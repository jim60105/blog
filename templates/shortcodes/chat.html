{%- if speaker == "chatgpt" -%}
	{%- set speaker_name = "ChatGPT" -%}
	{%- set speaker_avatar = "/avatars/chatgpt.svg" -%}
	{%- set speaker_align = "left" -%}
	{%- set speaker_color = "var(--green-fg)" -%}
{%- elif speaker == "claude" -%}
	{%- set speaker_name = "Claude" -%}
	{%- set speaker_avatar = "/avatars/claude.svg" -%}
	{%- set speaker_align = "left" -%}
	{%- set speaker_color = "var(--accent-color)" -%}
{%- elif speaker == "gemini" -%}
	{%- set speaker_name = "Gemini" -%}
	{%- set speaker_avatar = "/avatars/gemini.svg" -%}
	{%- set speaker_align = "left" -%}
	{%- set speaker_color = "var(--blue-fg)" -%}
{%- elif speaker == "copilot" -%}
	{%- set speaker_name = "GitHub Copilot" -%}
	{%- set speaker_avatar = "/avatars/copilot.svg" -%}
	{%- set speaker_align = "left" -%}
	{%- set speaker_color = "var(--fg-color)" -%}
{%- elif speaker == "jim" -%}
	{%- set speaker_name = "Jim Chen" -%}
	{%- set speaker_avatar = "/avatars/jim.jpg" -%}
	{%- set speaker_align = "right" -%}
	{%- set speaker_color = "var(--accent-color)" -%}
{%- else -%}
	{%- set speaker_name = "User" -%}
	{%- set speaker_avatar = "/avatars/user.svg" -%}
	{%- set speaker_align = "right" -%}
	{%- set speaker_color = "var(--yellow-fg)" -%}
{%- endif -%}

<div class="chat-message chat-message--{{ speaker_align }}" role="article" aria-labelledby="chat-speaker-{{ loop.index0 | default(value=" 0") }}">
	<div class="chat-message__avatar">
		<img src="{{ speaker_avatar }}" alt="{{ speaker_name }} avatar" class="chat-avatar no-hover" width="40" height="40" loading="lazy" decoding="async"/>
	</div>
	<div class="chat-message__content">
		<div class="chat-speaker" id="chat-speaker-{{ loop.index0 | default(value=" 0") }}" style="color: {{ speaker_color }}">
			{{ speaker_name }}
		</div>
		<div class="chat-bubble chat-bubble--{{ speaker_align }}">
			{{ body | trim | markdown | safe }}
		</div>
	</div>
</div>
